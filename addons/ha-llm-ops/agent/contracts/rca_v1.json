{
  "$defs": {
    "CandidateAction": {
      "description": "A potential action to mitigate the problem.",
      "properties": {
        "action": {
          "description": "Short description of the action",
          "title": "Action",
          "type": "string"
        },
        "rationale": {
          "description": "Why the action may help",
          "title": "Rationale",
          "type": "string"
        }
      },
      "required": [
        "action",
        "rationale"
      ],
      "title": "CandidateAction",
      "type": "object"
    }
  },
  "description": "LLM-provided root cause analysis result.",
  "properties": {
    "summary": {
      "description": "Short summary of the problem",
      "title": "Summary",
      "type": "string"
    },
    "root_cause": {
      "description": "Detailed explanation of the primary reason for the problem",
      "title": "Root Cause",
      "type": "string"
    },
    "impact": {
      "description": "Observed impact on the system",
      "title": "Impact",
      "type": "string"
    },
    "confidence": {
      "description": "Confidence score between 0 and 1",
      "maximum": 1.0,
      "minimum": 0.0,
      "title": "Confidence",
      "type": "number"
    },
    "candidate_actions": {
      "description": "Proposed remediation steps",
      "items": {
        "$ref": "#/$defs/CandidateAction"
      },
      "title": "Candidate Actions",
      "type": "array"
    },
    "risk": {
      "description": "Overall risk assessment of acting",
      "title": "Risk",
      "type": "string"
    },
    "tests": {
      "description": "Checks to verify the issue is resolved",
      "items": {
        "type": "string"
      },
      "title": "Tests",
      "type": "array"
    },
    "recurrence_pattern": {
      "description": "Regular expression to find occurrences of the same kind of problem in the future",
      "title": "Recurrence Pattern",
      "type": "string"
    }
  },
  "required": [
    "summary",
    "root_cause",
    "impact",
    "confidence",
    "risk",
    "recurrence_pattern"
  ],
  "title": "RcaResult",
  "type": "object"
}
